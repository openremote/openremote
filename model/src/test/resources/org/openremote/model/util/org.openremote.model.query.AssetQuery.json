{"$schema":"http://json-schema.org/draft-07/schema#","definitions":{"AnyType":{"title":"Any Type","type":["null","number","integer","boolean","string","array","object"],"additionalProperties":true},"ArrayPredicate":{"type":"object","properties":{"index":{"type":"integer"},"lengthEquals":{"type":"integer"},"lengthGreaterThan":{"type":"integer"},"lengthLessThan":{"type":"integer"},"negated":{"type":"boolean"},"value":{"title":"Any Type","type":["null","number","integer","boolean","string","array","object"],"additionalProperties":true},"type":{"const":"array","default":"array"}},"required":["negated","type"],"additionalProperties":true,"description":"Predicate for array values; will match based on configured options.","i18n":"org.openremote.model.query.filter.ArrayPredicate"},"AttributePredicate":{"type":"object","properties":{"meta":{"type":"array","items":{"type":"object","properties":{"name":{"type":"object","properties":{"caseSensitive":{"type":"boolean"},"match":{"type":"string","enum":["EXACT","BEGIN","END","CONTAINS"]},"negate":{"type":"boolean"},"value":{"type":"string"},"type":{"const":"string","default":"string"}},"required":["caseSensitive","negate","type"],"additionalProperties":true,"description":"Predicate for string values; will match based on configured options.","i18n":"org.openremote.model.query.filter.StringPredicate"},"negated":{"type":"boolean"},"path":{"type":"object","properties":{"paths":{"type":"array","items":{"$ref":"#/definitions/AnyType"}}},"additionalProperties":true},"value":{"oneOf":[{"$ref":"#/definitions/StringPredicate"},{"$ref":"#/definitions/BooleanPredicate"},{"$ref":"#/definitions/DateTimePredicate"},{"$ref":"#/definitions/NumberPredicate"},{"$ref":"#/definitions/RadialGeofencePredicate"},{"$ref":"#/definitions/RectangularGeofencePredicate"},{"$ref":"#/definitions/ArrayPredicate"},{"$ref":"#/definitions/ValueAnyPredicate"},{"$ref":"#/definitions/ValueEmptyPredicate"},{"$ref":"#/definitions/CalendarEventPredicate"}]}},"required":["negated"],"additionalProperties":true}},"name":{"type":"object","properties":{"caseSensitive":{"type":"boolean"},"match":{"type":"string","enum":["EXACT","BEGIN","END","CONTAINS"]},"negate":{"type":"boolean"},"value":{"type":"string"},"type":{"const":"string","default":"string"}},"required":["caseSensitive","negate","type"],"additionalProperties":true,"description":"Predicate for string values; will match based on configured options.","i18n":"org.openremote.model.query.filter.StringPredicate"},"negated":{"type":"boolean"},"path":{"type":"object","properties":{"paths":{"type":"array","items":{"$ref":"#/definitions/AnyType"}}},"additionalProperties":true},"previousValue":{"oneOf":[{"$ref":"#/definitions/StringPredicate"},{"$ref":"#/definitions/BooleanPredicate"},{"$ref":"#/definitions/DateTimePredicate"},{"$ref":"#/definitions/NumberPredicate"},{"$ref":"#/definitions/RadialGeofencePredicate"},{"$ref":"#/definitions/RectangularGeofencePredicate"},{"$ref":"#/definitions/ArrayPredicate"},{"$ref":"#/definitions/ValueAnyPredicate"},{"$ref":"#/definitions/ValueEmptyPredicate"},{"$ref":"#/definitions/CalendarEventPredicate"}]},"timestampOlderThan":{"type":"string"},"value":{"oneOf":[{"$ref":"#/definitions/StringPredicate"},{"$ref":"#/definitions/BooleanPredicate"},{"$ref":"#/definitions/DateTimePredicate"},{"$ref":"#/definitions/NumberPredicate"},{"$ref":"#/definitions/RadialGeofencePredicate"},{"$ref":"#/definitions/RectangularGeofencePredicate"},{"$ref":"#/definitions/ArrayPredicate"},{"$ref":"#/definitions/ValueAnyPredicate"},{"$ref":"#/definitions/ValueEmptyPredicate"},{"$ref":"#/definitions/CalendarEventPredicate"}]}},"required":["negated"],"additionalProperties":true},"BooleanPredicate":{"type":"object","properties":{"value":{"type":"boolean"},"type":{"const":"boolean","default":"boolean"}},"required":["value","type"],"additionalProperties":true,"description":"Predicate for boolean values; will evaluate the value as a boolean and match against this predicates value, any value that is not a boolean will not match","i18n":"org.openremote.model.query.filter.BooleanPredicate"},"CalendarEventPredicate":{"type":"object","properties":{"timestamp":{"type":"integer","format":"utc-millisec"},"type":{"const":"calendar-event","default":"calendar-event"}},"additionalProperties":true,"title":"Calendar","description":"Predicate for calendar event values; will match based on whether the calendar event is active for the specified time.","required":["type"],"i18n":"org.openremote.model.query.filter.CalendarEventPredicate"},"DateTimePredicate":{"type":"object","properties":{"negate":{"type":"boolean"},"operator":{"type":"string","enum":["EQUALS","GREATER_THAN","GREATER_EQUALS","LESS_THAN","LESS_EQUALS","BETWEEN"]},"rangeValue":{"type":"string"},"value":{"type":"string"},"type":{"const":"datetime","default":"datetime"}},"required":["negate","type"],"additionalProperties":true,"description":"Predicate for date time values; provided values should be valid ISO 8601 datetime strings (e.g. yyyy-MM-dd'T'HH:mm:ssZ or yyyy-MM-dd'T'HH:mm:ssÂ±HH:mm), offset and time are optional, if no offset information is supplied then UTC is assumed.","i18n":"org.openremote.model.query.filter.DateTimePredicate"},"LogicGroup(AttributePredicate)":{"type":"object","properties":{"groups":{"type":"array","items":{"$ref":"#/definitions/LogicGroup(AttributePredicate)"}},"items":{"type":"array","items":{"$ref":"#/definitions/AttributePredicate"}},"operator":{"type":"string","enum":["AND","OR"]}},"additionalProperties":true},"NumberPredicate":{"type":"object","properties":{"negate":{"type":"boolean"},"operator":{"type":"string","enum":["EQUALS","GREATER_THAN","GREATER_EQUALS","LESS_THAN","LESS_EQUALS","BETWEEN"]},"rangeValue":{"type":"number"},"value":{"type":"number"},"type":{"const":"number","default":"number"}},"required":["negate","type"],"additionalProperties":true,"description":"Predicate for number values; will match based on configured options.","i18n":"org.openremote.model.query.filter.NumberPredicate"},"RadialGeofencePredicate":{"type":"object","properties":{"lat":{"type":"number"},"lng":{"type":"number"},"negated":{"type":"boolean"},"radius":{"type":"integer"},"type":{"const":"radial","default":"radial"}},"required":["lat","lng","negated","radius","type"],"additionalProperties":true,"title":"Radial geofence","description":"Predicate for GEO JSON point values; will return true if the point is within the specified radius of the specified latitude and longitude unless negated.","i18n":"org.openremote.model.query.filter.RadialGeofencePredicate"},"RectangularGeofencePredicate":{"type":"object","properties":{"latMax":{"type":"number"},"latMin":{"type":"number"},"lngMax":{"type":"number"},"lngMin":{"type":"number"},"negated":{"type":"boolean"},"type":{"const":"rect","default":"rect"}},"required":["latMax","latMin","lngMax","lngMin","negated","type"],"additionalProperties":true,"title":"Rectangular geofence","description":"Predicate for GEO JSON point values; will return true if the point is within the specified rectangle specified as latitude and longitude values of two corners unless negated.","i18n":"org.openremote.model.query.filter.RectangularGeofencePredicate"},"StringPredicate":{"type":"object","properties":{"caseSensitive":{"type":"boolean"},"match":{"type":"string","enum":["EXACT","BEGIN","END","CONTAINS"]},"negate":{"type":"boolean"},"value":{"type":"string"},"type":{"const":"string","default":"string"}},"required":["caseSensitive","negate","type"],"additionalProperties":true,"description":"Predicate for string values; will match based on configured options.","i18n":"org.openremote.model.query.filter.StringPredicate"},"ValueAnyPredicate":{"type":"object","additionalProperties":true,"title":"Any value","description":"Predicate that matches any value including null.","properties":{"type":{"const":"value-any","default":"value-any"}},"required":["type"],"i18n":"org.openremote.model.query.filter.ValueAnyPredicate"},"ValueEmptyPredicate":{"type":"object","properties":{"negate":{"type":"boolean"},"type":{"const":"value-empty","default":"value-empty"}},"required":["negate","type"],"additionalProperties":true,"title":"Empty value","description":"Predicate that matches any empty/null value; unless negated.","i18n":"org.openremote.model.query.filter.ValueEmptyPredicate"}},"type":"object","properties":{"access":{"type":"string","enum":["PRIVATE","PROTECTED","PUBLIC"]},"attributes":{"type":"object","properties":{"groups":{"type":"array","items":{"$ref":"#/definitions/LogicGroup(AttributePredicate)"}},"items":{"type":"array","items":{"$ref":"#/definitions/AttributePredicate"}},"operator":{"type":"string","enum":["AND","OR"]}},"additionalProperties":true},"ids":{"type":"array","items":{"type":"string"}},"limit":{"type":"integer"},"names":{"type":"array","items":{"$ref":"#/definitions/StringPredicate"},"description":"Predicate for string values; will match based on configured options."},"orderBy":{"type":"object","properties":{"descending":{"type":"boolean"},"property":{"type":"string","enum":["CREATED_ON","NAME","ASSET_TYPE","PARENT_ID","REALM"]}},"required":["descending"],"additionalProperties":true},"parents":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"}},"additionalProperties":true}},"paths":{"type":"array","items":{"type":"object","properties":{"path":{"type":"array","items":{"type":"string"}}},"additionalProperties":true}},"realm":{"type":"object","properties":{"name":{"type":"string"}},"additionalProperties":true},"recursive":{"type":"boolean"},"select":{"type":"object","properties":{"attributes":{"type":"array","items":{"type":"string"}}},"additionalProperties":true},"types":{"type":"array","items":{"type":"string"}},"userIds":{"type":"array","items":{"type":"string"}}},"required":["limit","recursive"],"title":"Asset Query","additionalProperties":true}
