{
    "rules": [
        {
            "recurrence": {
                "mins": 0
            },
            "when": {
                "operator": "OR",
                "groups": [
                    {
                        "operator": "AND",
                        "items": [
                            {
                                "duration": {
                                    "0": "PT3M",
                                    "1": "PT5M"
                                },
                                "assets": {
                                    "types": [
                                        "LightAsset"
                                    ],
                                    "attributes": {
                                        "items": [
                                            {
                                                "name": {
                                                    "predicateType": "string",
                                                    "match": "EXACT",
                                                    "value": "onOff"
                                                },
                                                "value": {
                                                    "predicateType": "boolean",
                                                    "value": true
                                                }
                                            },
                                            {
                                                "name": {
                                                    "predicateType": "string",
                                                    "match": "EXACT",
                                                    "value": "notes"
                                                },
                                                "value": {
                                                    "predicateType": "string",
                                                    "negate": false,
                                                    "match": "EXACT",
                                                    "value": "TurnOff"
                                                }
                                            }
                                        ]
                                    }
                                }
                            },
                            {
                                "duration": {
                                    "1": "PT10M"
                                },
                                "assets": {
                                    "types": [
                                        "LightAsset"
                                    ],
                                    "attributes": {
                                        "items": [
                                            {
                                                "name": {
                                                    "predicateType": "string",
                                                    "match": "EXACT",
                                                    "value": "brightness"
                                                },
                                                "value": {
                                                    "predicateType": "number",
                                                    "operator": "GREATER_THAN",
                                                    "value": 0
                                                }
                                            },
                                            {
                                                "name": {
                                                    "predicateType": "string",
                                                    "match": "EXACT",
                                                    "value": "brightness"
                                                },
                                                "value": {
                                                    "predicateType": "number",
                                                    "operator": "GREATER_THAN",
                                                    "value": 0
                                                }
                                            }
                                        ]
                                    }
                                }
                            },
                            {
                                "duration": {
                                    "0": "PT5M"
                                },
                                "assets": {
                                    "types": [
                                        "ThingAsset"
                                    ],
                                    "attributes": {
                                        "items": [
                                            {
                                                "name": {
                                                    "predicateType": "string",
                                                    "match": "EXACT",
                                                    "value": "notes"
                                                },
                                                "value": {
                                                    "predicateType": "string",
                                                    "negate": false,
                                                    "match": "EXACT",
                                                    "value": "Test"
                                                }
                                            }
                                        ]
                                    }
                                }
                            }
                        ]
                    },
                    {
                        "operator": "AND",
                        "items": [
                            {
                                "duration": {
                                    "0": "PT30M"
                                },
                                "assets": {
                                    "types": [
                                        "LightAsset"
                                    ],
                                    "attributes": {
                                        "items": [
                                            {
                                                "name": {
                                                    "predicateType": "string",
                                                    "match": "EXACT",
                                                    "value": "brightness"
                                                },
                                                "value": {
                                                    "predicateType": "number",
                                                    "operator": "GREATER_THAN",
                                                    "value": 0
                                                }
                                            },
                                            {
                                                "name": {
                                                    "predicateType": "string",
                                                    "match": "EXACT",
                                                    "value": "brightness"
                                                },
                                                "value": {
                                                    "predicateType": "number",
                                                    "operator": "GREATER_THAN",
                                                    "value": 10
                                                }
                                            }

                                        ]
                                    }
                                }
                            }
                        ]
                    }
                ]
            },
            "then": [
                {
                    "action": "write-attribute",
                    "target": {
                        "matchedAssets": {
                            "types": [
                                "LightAsset"
                            ]
                        }
                    },
                    "value": 0,
                    "attributeName": "brightness"
                },
                {
                    "action": "write-attribute",
                    "target": {
                        "matchedAssets": {
                            "types": [
                                "LightAsset"
                            ]
                        }
                    },
                    "value": false,
                    "attributeName": "onOff"
                }
            ],
            "name": "Duration Rule"
        }
    ]
}
